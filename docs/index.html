<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@jjwesterkamp/event-delegation</title>
	<meta name="description" content="Documentation for @jjwesterkamp/event-delegation">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@jjwesterkamp/event-delegation</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>@jjwesterkamp/event-delegation</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#event-delegation" id="event-delegation" style="color: inherit; text-decoration: none;">
					<h1>event-delegation</h1>
				</a>
				<p>Event delegation for browser DOM events. Flexible, cross-browser compatible and Type-focused.</p>
				<p><a href="https://badge.fury.io/js/%40jjwesterkamp%2Fevent-delegation"><img src="https://badge.fury.io/js/%40jjwesterkamp%2Fevent-delegation.svg" alt="npm version"></a>
					<a href="https://travis-ci.com/JJWesterkamp/event-delegation"><img src="https://travis-ci.com/JJWesterkamp/event-delegation.svg?branch=master" alt="Build Status"></a>
				<a href="https://coveralls.io/github/JJWesterkamp/event-delegation?branch=master"><img src="https://coveralls.io/repos/github/JJWesterkamp/event-delegation/badge.svg?branch=master" alt="Coverage Status"></a></p>
				<blockquote>
					<p>Note: this package is currently under heavy development, and this README does not reflect the latest
						published version. See tag <a href="https://github.com/JJWesterkamp/event-delegation/tree/v0.4.4">0.4.4</a> for
					the current version.</p>
				</blockquote>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p><strong>CDN</strong></p>
				<pre><code class="language-html"><span style="color: #800000">&lt;script</span><span style="color: #000000FF"> </span><span style="color: #FF0000">src</span><span style="color: #000000FF">=</span><span style="color: #0000FF">&quot;https://cdn.jsdelivr.net/npm/@jjwesterkamp/event-delegation/umd/event-delegation.min.js&quot;</span><span style="color: #800000">&gt;&lt;/script&gt;</span>
</code></pre>
				<p><strong>npm</strong></p>
				<pre><code><span style="color: #001080">$</span><span style="color: #000000"> </span><span style="color: #001080">npm</span><span style="color: #000000"> </span><span style="color: #001080">install</span><span style="color: #000000"> @</span><span style="color: #001080">jjwesterkamp</span><span style="color: #000000">/</span><span style="color: #001080">event</span><span style="color: #000000">-</span><span style="color: #001080">delegation</span><span style="color: #000000"> --</span><span style="color: #001080">save</span>
</code></pre>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p>The package has both a default export and a named export <code>EventDelegation</code> which are both the same value.
				You can import with your preferred method:</p>
				<pre><code class="language-typescript"><span style="color: #008000">// either</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">EventDelegation</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@jjwesterkamp/event-delegation&#039;</span>
<span style="color: #008000">// or</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">EventDelegation</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@jjwesterkamp/event-delegation&#039;</span>
</code></pre>
				<p>This package comes with two distinct flavours of instantiating an event handler, represented
				by three main functions on the EventDelegation namespace object:</p>
				<ul>
					<li><code>EventDelegation.global()</code></li>
					<li><code>EventDelegation.within(root)</code></li>
					<li><code>EventDelegation.create(options)</code></li>
				</ul>
				<ol>
					<li><p><strong>Builder pattern initialisation</strong></p>
						<blockquote>
							<p>Both <code>global()</code> and <code>within()</code> are used to start an event listener through a builder-pattern initialisation.  </p>
							<ul>
								<li>The <code>global()</code> method is used to attach a global listener on the top-level <code>document.body</code> element.  </li>
								<li>The <code>within()</code> method is used to provide an alternative root element for the listener.</li>
							</ul>
						</blockquote>
					</li>
					<li><p><strong>Config object based initialisation</strong></p>
						<blockquote>
							<p>The <code>create()</code> method is used to start an event listener through config-object based initialisation. </p>
						</blockquote>
					</li>
				</ol>
				<a href="#1-builder-pattern-initialisation" id="1-builder-pattern-initialisation" style="color: inherit; text-decoration: none;">
					<h3>1. Builder pattern initialisation</h3>
				</a>
				<p>As an alternative to the config-object flavour the package also provides the two methods <code>global</code> and <code>within</code> to initialise
				an event handler through a builder-like pattern. It looks like this, using <code>global()</code> as the example:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">handler</span><span style="color: #000000"> = </span><span style="color: #001080">EventDelegation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">global</span><span style="color: #000000">()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">events</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;click&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">select</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;button&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">listen</span><span style="color: #000000">(</span><span style="color: #0000FF">function</span><span style="color: #000000">(</span><span style="color: #001080">event</span><span style="color: #000000">) {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">if</span><span style="color: #000000"> (! </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #001080">disabled</span><span style="color: #000000">) {</span>
<span style="color: #000000">            </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #001080">innerText</span><span style="color: #000000"> = </span><span style="color: #A31515">`</span><span style="color: #0000FF">${</span><span style="color: #001080">event</span><span style="color: #000000FF">.</span><span style="color: #001080">offsetX</span><span style="color: #0000FF">}</span><span style="color: #A31515">/</span><span style="color: #0000FF">${</span><span style="color: #001080">event</span><span style="color: #000000FF">.</span><span style="color: #001080">offsetY</span><span style="color: #0000FF">}</span><span style="color: #A31515">`</span><span style="color: #000000"> </span><span style="color: #008000">// Works!</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">    })</span>
</code></pre>
				<p>Inside the event listener callback, <code>this</code> is the element that matched <code>&quot;.item&quot;</code>. In order for <em>this-binding</em> to work, <code>listener</code> must be a
					regular function. For cases where arrow functions are preferred, the event argument provides an additional property <code>delegator</code>
				as an alternative:</p>
				<pre><code class="language-javascript"><span style="color: #001080">EventDelegation</span>
<span style="color: #000000">    </span><span style="color: #008000">// ...</span>
<span style="color: #000000">    .</span><span style="color: #795E26">listen</span><span style="color: #000000">((</span><span style="color: #001080">event</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">event</span><span style="color: #000000">.</span><span style="color: #001080">delegator</span><span style="color: #000000">.</span><span style="color: #001080">classList</span><span style="color: #000000">.</span><span style="color: #795E26">add</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;item--clicked&#039;</span><span style="color: #000000">))</span>
</code></pre>
				<p>This pattern is convenient because it allows for automatic type completion of practically
					all required type information. Each of the above steps represent interfaces with multiple function overloads, allowing
					for recognition of <code>WindowEventMap</code> keys for all native event names, and <code>HTMLElementTagNameMap</code> and <code>SVGElementTagNameMap</code>
				keys for tag selectors. The inferred types are then automatically known in the <code>listen</code> step and the provided listener callback.</p>
				<p>In the above example the event type is automatically identified as <code>MouseEvent</code>,
				and <code>event.delegator</code> (or <code>this</code>) is identified as <code>HTMLButtonElement</code> using the standard library of DOM types.</p>
				<blockquote>
					<p>The build process has the following 4 steps in this order, ultimately returning an <code>EventHandler</code> instance:</p>
					<p><a href="https://github.com/JJWesterkamp/event-delegation/blob/develop/event-delegation.d.ts#L48"><code>AskRoot</code></a> =&gt; <a href="https://github.com/JJWesterkamp/event-delegation/blob/develop/event-delegation.d.ts#L67"><code>AskEvent</code></a> =&gt; <a href="https://github.com/JJWesterkamp/event-delegation/blob/develop/event-delegation.d.ts#L89"><code>AskSelector</code></a> =&gt; <a href="https://github.com/JJWesterkamp/event-delegation/blob/develop/event-delegation.d.ts#L116"><code>AskListener</code></a> =&gt; <a href="https://github.com/JJWesterkamp/event-delegation/blob/develop/event-delegation.d.ts#L19"><code>EventHandler</code></a></p>
				</blockquote>
				<p>For custom events and non-tag CSS selectors there are additional overloads that allow for explicit type arguments:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99">MyEvent</span><span style="color: #000000"> = </span><span style="color: #267F99">Event</span><span style="color: #000000"> &amp; { </span><span style="color: #001080">foo</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000"> }</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">handler</span><span style="color: #000000"> = </span><span style="color: #001080">EventDelegation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">global</span><span style="color: #000000">()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">events</span><span style="color: #000000">&lt;</span><span style="color: #267F99">MyEvent</span><span style="color: #000000">&gt;(</span><span style="color: #A31515">&#039;my:event&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">select</span><span style="color: #000000">&lt;</span><span style="color: #267F99">HTMLInputElement</span><span style="color: #000000">&gt;(</span><span style="color: #A31515">&#039;.input&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">listen</span><span style="color: #000000">((</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">e</span><span style="color: #000000">.</span><span style="color: #001080">delegator</span><span style="color: #000000">.</span><span style="color: #001080">value</span><span style="color: #000000"> = </span><span style="color: #001080">e</span><span style="color: #000000">.</span><span style="color: #001080">foo</span><span style="color: #000000">) </span><span style="color: #008000">// Works too!</span>
</code></pre>
				<a href="#eventdelegationglobal" id="eventdelegationglobal" style="color: inherit; text-decoration: none;">
					<h4>EventDelegation.global()</h4>
				</a>
				<pre><code class="language-typescript"><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">AskRoot</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #795E26">global</span><span style="color: #000000">(): </span><span style="color: #267F99">AskEvent</span><span style="color: #000000">&lt;</span><span style="color: #267F99">HTMLElement</span><span style="color: #000000">&gt;</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>The examples above used the <code>global()</code> method that attaches an event listener to <code>document.body</code> -- globally.
					The returned builder ultimately builds an <code>EventHandler&lt;HTMLElement&gt;</code>
				where <code>HTMLElement</code> is the type of the root, <code>document.body</code>.</p>
				<a href="#eventdelegationwithin" id="eventdelegationwithin" style="color: inherit; text-decoration: none;">
					<h4>EventDelegation.within()</h4>
				</a>
				<pre><code class="language-typescript"><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">AskRoot</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #795E26">within</span><span style="color: #000000">&lt;</span><span style="color: #267F99">R</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">Element</span><span style="color: #000000">&gt;(</span><span style="color: #001080">rootOrSelector</span><span style="color: #000000">: </span><span style="color: #267F99">R</span><span style="color: #000000"> | </span><span style="color: #267F99">string</span><span style="color: #000000">): </span><span style="color: #267F99">AskEvent</span><span style="color: #000000">&lt;</span><span style="color: #267F99">R</span><span style="color: #000000">&gt;</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Alternatively you can add event listeners to other elements with the <code>within</code>method. It takes either an element or a selector. In the case of an element its type is preserved and ultimately
				an <code>EventHandler&lt;R&gt;</code> is returned:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">declare</span><span style="color: #000000"> </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">myRoot</span><span style="color: #000000">: </span><span style="color: #267F99">HTMLFormElement</span>

<span style="color: #008000">// EventHandler&lt;HTMLFormElement&gt;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">handler</span><span style="color: #000000"> = </span><span style="color: #001080">EventDelegation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">within</span><span style="color: #000000">(</span><span style="color: #001080">myRoot</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">events</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;click&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">select</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;button&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">listen</span><span style="color: #000000">((</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #008000">/* ... */</span><span style="color: #000000"> })</span>
</code></pre>
				<p>In the case of a selector you can optionally provide an explicit type for the root when working in Typescript.
					This is only recommended for non-tag selectors such as <code>#my-form</code> below. When using a tag selector,
				like <code>&#39;form&#39;</code> for instance, the type will be inferred using the standard DOM type declarations.</p>
				<pre><code class="language-typescript"><span style="color: #008000">// EventHandler&lt;HTMLFormElement&gt;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">handlerA</span><span style="color: #000000"> = </span><span style="color: #001080">EventDelegation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">within</span><span style="color: #000000">&lt;</span><span style="color: #267F99">HTMLFormElement</span><span style="color: #000000">&gt;(</span><span style="color: #A31515">&#039;#my-form&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">events</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;click&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">select</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;button&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">listen</span><span style="color: #000000">((</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #008000">/* ... */</span><span style="color: #000000"> })</span>

<span style="color: #008000">// Also EventHandler&lt;HTMLFormElement&gt;!</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">handlerB</span><span style="color: #000000"> = </span><span style="color: #001080">EventDelegation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">within</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;form&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">events</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;click&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">select</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;button&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">listen</span><span style="color: #000000">((</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #008000">/* ... */</span><span style="color: #000000"> })</span>
</code></pre>
				<a href="#a-note-about-roots" id="a-note-about-roots" style="color: inherit; text-decoration: none;">
					<h4>A note about roots</h4>
				</a>
				<p>If the <code>root</code> is a selector, <code>within()</code> will create one single handler for the <strong>first matching element</strong>.</p>
				<blockquote>
					<p>⚠️ Unlike some other event delegation packages, this package does not create multiple listeners for all matching
						elements when the <code>root</code> is a selector. This is a design decision because such elements could be nested within
						each other, resulting in very unpredictable behavior, including &#39;duplicated&#39; handling of events that bubble through
					multiple matching roots, and inconsistencies based on whether events&#39; <code>stopPropagation</code> methods have been called.</p>
					<p>You could of course still map a list of elements to event-handlers yourself to circumvent this &#39;drawback&#39;.</p>
				</blockquote>
				<a href="#2-config-object-based-initialisation" id="2-config-object-based-initialisation" style="color: inherit; text-decoration: none;">
					<h3>2. Config object based initialisation</h3>
				</a>
				<p>The config object initialisation was the initial way this package implemented event delegation, and remains
					in the package for backwards compatibility, and for additional flexibility. The options object for creating
				an event-handler in this way has the following shape:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">CreateParams</span><span style="color: #000000">&lt;</span>
<span style="color: #000000">    </span><span style="color: #267F99">D</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">Element</span><span style="color: #000000"> = </span><span style="color: #267F99">Element</span><span style="color: #000000">, </span>
<span style="color: #000000">    </span><span style="color: #267F99">E</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">Event</span><span style="color: #000000">   = </span><span style="color: #267F99">Event</span><span style="color: #000000">, </span>
<span style="color: #000000">    </span><span style="color: #267F99">R</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">Element</span><span style="color: #000000"> = </span><span style="color: #267F99">Element</span>
<span style="color: #000000">&gt; {</span>
<span style="color: #000000">    </span><span style="color: #001080">root</span><span style="color: #000000">?: </span><span style="color: #267F99">R</span><span style="color: #000000"> | </span><span style="color: #267F99">string</span>
<span style="color: #000000">    </span><span style="color: #001080">selector</span><span style="color: #000000">: </span><span style="color: #267F99">string</span>
<span style="color: #000000">    </span><span style="color: #001080">eventType</span><span style="color: #000000">: </span><span style="color: #267F99">string</span>
<span style="color: #000000">    </span><span style="color: #001080">listener</span><span style="color: #000000">: </span><span style="color: #267F99">DelegationListener</span><span style="color: #000000">&lt;</span><span style="color: #267F99">D</span><span style="color: #000000">, </span><span style="color: #267F99">E</span><span style="color: #000000">&gt;</span>
<span style="color: #000000">    </span><span style="color: #001080">listenerOptions</span><span style="color: #000000">?: </span><span style="color: #267F99">boolean</span><span style="color: #000000"> | </span><span style="color: #267F99">AddEventListenerOptions</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#eventdelegationcreate" id="eventdelegationcreate" style="color: inherit; text-decoration: none;">
					<h4>EventDelegation.create()</h4>
				</a>
				<pre><code class="language-typescript"><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">CreateFromObject</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">create</span><span style="color: #000000">&lt;</span>
<span style="color: #000000">        </span><span style="color: #0070C1">D</span><span style="color: #000000"> </span><span style="color: #001080">extends</span><span style="color: #000000"> </span><span style="color: #001080">Element</span><span style="color: #000000"> = </span><span style="color: #001080">Element</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #0070C1">E</span><span style="color: #000000"> </span><span style="color: #001080">extends</span><span style="color: #000000"> </span><span style="color: #001080">Event</span><span style="color: #000000"> = </span><span style="color: #001080">Event</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #0070C1">R</span><span style="color: #000000"> </span><span style="color: #001080">extends</span><span style="color: #000000"> </span><span style="color: #001080">Element</span><span style="color: #000000"> = </span><span style="color: #001080">Element</span><span style="color: #000000">,</span>
<span style="color: #000000">        &gt;(</span><span style="color: #001080">options</span><span style="color: #000000">: </span><span style="color: #267F99">CreateParams</span><span style="color: #000000">&lt;</span><span style="color: #267F99">D</span><span style="color: #000000">, </span><span style="color: #267F99">E</span><span style="color: #000000">, </span><span style="color: #267F99">R</span><span style="color: #000000">&gt;): </span><span style="color: #267F99">EventHandler</span><span style="color: #000000">&lt;</span><span style="color: #267F99">R</span><span style="color: #000000"> | </span><span style="color: #267F99">HTMLElement</span><span style="color: #000000">&gt;</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>A <code>CreateParams</code>  object can be used to start listening for events with the <code>create</code> method:</p>
				<pre><code class="language-typescript"><span style="color: #001080">EventDelegation</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">({</span>
<span style="color: #000000">    </span><span style="color: #001080">selector:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;.item&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">eventType:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;click&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #795E26">listener</span><span style="color: #000000">(</span><span style="color: #001080">event</span><span style="color: #000000">) {</span>
<span style="color: #000000">        </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #001080">classList</span><span style="color: #000000">.</span><span style="color: #795E26">add</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;item--clicked&#039;</span><span style="color: #000000">);</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">})</span>
</code></pre>
				<p>The following table gives an overview of the different properties of <code>CreateParams</code> and their function.
					If the <code>root</code> is omitted from configuration, <code>document.body</code> is used as the root.<br>If the root is a selector, similarly to the builder pattern initialisation <strong>the first matching element</strong> is used
				as the root, See the earlier <strong>note about roots</strong>.</p>
				<table>
					<thead>
						<tr>
							<th>property</th>
							<th>required</th>
							<th>type</th>
							<th>description</th>
							<th>default</th>
						</tr>
					</thead>
					<tbody><tr>
							<td><code>root</code></td>
							<td>no</td>
							<td><code>Element</code> or <code>string</code></td>
							<td>Can be either an HTMLElement reference or a CSS style selector for the element.</td>
							<td><code>document.body</code></td>
						</tr>
						<tr>
							<td><code>selector</code></td>
							<td>yes</td>
							<td><code>string</code></td>
							<td>Selector that matches against the delegating elements. E.g. <code>&quot;li&quot;</code> or <code>&quot;.item&quot;</code></td>
							<td>N/A</td>
						</tr>
						<tr>
							<td><code>eventType</code></td>
							<td>yes</td>
							<td><code>string</code></td>
							<td>The event type to listen for</td>
							<td>N/A</td>
						</tr>
						<tr>
							<td><code>listener</code></td>
							<td>yes</td>
							<td><code>function</code></td>
							<td>The event listener callback</td>
							<td>N/A</td>
						</tr>
						<tr>
							<td><code>listenerOptions</code></td>
							<td>no</td>
							<td><code>boolean</code> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener"><code>AddEventListenerOptions</code></a></td>
							<td>Options object for the native event listener.</td>
							<td>N/A</td>
						</tr>
				</tbody></table>
				<a href="#eventhandler" id="eventhandler" style="color: inherit; text-decoration: none;">
					<h3>EventHandler</h3>
				</a>
				<p>All creation methods return an EventHandler instance, which has the following shape:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">EventHandler</span><span style="color: #000000">&lt;</span><span style="color: #267F99">R</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">Element</span><span style="color: #000000">&gt; {</span>
<span style="color: #000000">    </span><span style="color: #795E26">isAttached</span><span style="color: #000000">(): </span><span style="color: #267F99">boolean</span>
<span style="color: #000000">    </span><span style="color: #795E26">isDestroyed</span><span style="color: #000000">(): </span><span style="color: #267F99">boolean</span>
<span style="color: #000000">    </span><span style="color: #795E26">root</span><span style="color: #000000">(): </span><span style="color: #267F99">R</span>
<span style="color: #000000">    </span><span style="color: #795E26">eventType</span><span style="color: #000000">(): </span><span style="color: #267F99">string</span>
<span style="color: #000000">    </span><span style="color: #795E26">selector</span><span style="color: #000000">(): </span><span style="color: #267F99">string</span>
<span style="color: #000000">    </span><span style="color: #795E26">remove</span><span style="color: #000000">(): </span><span style="color: #267F99">void</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>The event handler instance exists primarily to later remove the listener:</p>
				<pre><code class="language-typescript"><span style="color: #001080">handler</span><span style="color: #000000">.</span><span style="color: #795E26">remove</span><span style="color: #000000">()</span>
</code></pre>
				<p>It additionally has some methods that might be useful, among which <code>selector()</code>, <code>eventType()</code> and <code>root()</code>
				providing the input parameters of creation. </p>
				<p><code>isAttached()</code> will tell whether the listener is active. It&#39;ll always return <code>true</code> until the listener is removed.</p>
				<p><code>isDestroyed()</code> is the opposite of <code>isAttached()</code>, and returns <code>false</code> until the listener is removed.</p>
				<a href="#working-in-javascript---a-few-limitations" id="working-in-javascript---a-few-limitations" style="color: inherit; text-decoration: none;">
					<h3>Working in Javascript - a few limitations</h3>
				</a>
				<p>When working in Javascript you can&#39;t provide explicit type arguments for function calls as in some examples
					so far. Most typescript-savvy editors will still give (near) perfect type completion for all cases where the types are
					inferred, such as when using tag selectors and standard event names such as <code>&#39;click&#39;</code>. This is also true when passing
				existing element references if they have the correct type in advance. </p>
				<p>In case of non-tag CSS selectors element types will most of the time default to <code>Element</code>. In the example below
				<code>x</code> will probably be considered an <code>Element</code>:</p>
				<pre><code class="language-javascript"><span style="color: #008000">// In some JS file...</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">handler</span><span style="color: #000000"> = </span><span style="color: #001080">EventDelegation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">within</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;#my-form&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">events</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;click&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">select</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;button&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">listen</span><span style="color: #000000">((</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #008000">/* ... */</span><span style="color: #000000"> })</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">x</span><span style="color: #000000"> = </span><span style="color: #001080">handler</span><span style="color: #000000">.</span><span style="color: #795E26">root</span><span style="color: #000000">()</span>
</code></pre>
				<p>When using custom events, in Javascript the event types will by default be considered the base type <code>Event</code>. You can
				however append definitions for your custom event types to <code>WindowEventMap</code> in a declaration file:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">WindowEventMap</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #A31515">&#039;my:event&#039;</span><span style="color: #000000">: </span><span style="color: #267F99">Event</span><span style="color: #000000"> &amp; { </span><span style="color: #001080">foo</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000"> }</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Then, depending on your editor, you might be able to do this without warnings:</p>
				<pre><code class="language-javascript"><span style="color: #001080">EventDelegation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">global</span><span style="color: #000000">()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">events</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;my:event&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">select</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;.my-element&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">listen</span><span style="color: #000000">((</span><span style="color: #001080">e</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> { </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">e</span><span style="color: #000000">.</span><span style="color: #001080">foo</span><span style="color: #000000">.</span><span style="color: #795E26">toUpperCase</span><span style="color: #000000">()) })</span>
</code></pre>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>The MIT License (MIT). See <a href="https://github.com/JJWesterkamp/event-delegation/blob/master/LICENSE">license file</a> for more information.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/eventhandler.html">Event<wbr>Handler</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index.html">index</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/lib_closestwithin.html">lib/closest<wbr>Within</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/lib_createbuilder.html">lib/create<wbr>Builder</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/lib_isfunction.html">lib/is<wbr>Function</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/lib_isnil.html">lib/is<wbr>Nil</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/lib_isstring.html">lib/is<wbr>String</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/lib_matches.html">lib/matches</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/lib_normalizeroot.html">lib/normalize<wbr>Root</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/types.html">types</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>